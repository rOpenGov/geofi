<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Query Geographic Names (Nimistö) from the National Land Survey of Finland — ogc_get_nimisto • geofi</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../katex-auto.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><link href="../deps/KaTex-0.16.10/katex.min.css" rel="stylesheet"><script src="../deps/KaTex-0.16.10/katex.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Query Geographic Names (Nimistö) from the National Land Survey of Finland — ogc_get_nimisto"><meta name="description" content="Queries the Geographic Names (Nimistö) OGC API to retrieve spatial data on
place names provided by the National Land Survey of Finland (NLS)."><meta property="og:description" content="Queries the Geographic Names (Nimistö) OGC API to retrieve spatial data on
place names provided by the National Land Survey of Finland (NLS)."><meta property="og:image" content="https://ropengov.github.io/geofi/logo.png"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@rOpenGov"><meta name="twitter:site" content="@rOpenGov"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=B612+Mono:ital,wght@0,400;0,700;1,400;1,700&amp;family=Roboto+Mono:ital,wght@0,100..700;1,100..700&amp;display=swap" rel="stylesheet"><!-- rogtemplate style sheet --><link href="../BS5/rogtemplate.min.css" rel="stylesheet"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">geofi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/geofi_datasets.html">Datasets in geofi-package</a></li>
    <li><a class="dropdown-item" href="../articles/geofi_geocoding.html">Geocoding and Reverse Geocoding with the geofi Package</a></li>
    <li><a class="dropdown-item" href="../articles/geofi_joining_attribute_data.html">Joining attribute data with geofi data</a></li>
    <li><a class="dropdown-item" href="../articles/geofi_making_maps.html">Making maps using geofi-package</a></li>
    <li><a class="dropdown-item" href="../articles/geofi_nls_ogc.html">Accessing Spatial Data from NLS OGC apis with geofi</a></li>
    <li><a class="dropdown-item" href="../articles/geofi_spatial_analysis.html">Spatial data manipulation and analysis using R and geofi-package</a></li>
    <li><a class="dropdown-item" href="../articles/geofi_statfi_ogc.html">Accessing Spatial and Population Data from Statistics Finland OGC api</a></li>
    <li><a class="dropdown-item" href="../articles/Publications-using-the-geofi-R-package.html">Publications using the geofi R package</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://ropengov.org"><span class="fa fa-users"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rOpenGov/geofi"><span class="fa fab fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Query Geographic Names (Nimistö) from the National Land Survey of Finland</h1>
      <small class="dont-index">Source: <a href="https://github.com/rOpenGov/geofi/blob/master/R/ogc_api_nls.R" class="external-link"><code>R/ogc_api_nls.R</code></a></small>
      <div class="d-none name"><code>ogc_get_nimisto.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Queries the Geographic Names (Nimistö) OGC API to retrieve spatial data on
place names provided by the National Land Survey of Finland (NLS).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ogc_get_nimisto</span><span class="op">(</span></span>
<span>  search_string <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  collection <span class="op">=</span> <span class="st">"placenames"</span>,</span>
<span>  crs <span class="op">=</span> <span class="fl">3067</span>,</span>
<span>  limit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bbox <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  custom_params <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  api_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"geofi_mml_api_key"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-search-string">search_string<a class="anchor" aria-label="anchor" href="#arg-search-string"></a></dt>
<dd><p>Character or NULL. A search string to filter place names
(e.g., <code>"kainu"</code>). The search is case-insensitive. If <code>NULL</code>
(default), no search filter is applied, and all place names are retrieved
(subject to the <code>limit</code> parameter).</p></dd>


<dt id="arg-collection">collection<a class="anchor" aria-label="anchor" href="#arg-collection"></a></dt>
<dd><p>Character or NULL. The name of collection for places, place names and map names of the
Geographic Names Register provided by the National Land Survey of Finland where the search if performed from.
Supported values are <code>placenames</code>, <code>mapnames</code>, and <code>placenames_simple</code></p></dd>


<dt id="arg-crs">crs<a class="anchor" aria-label="anchor" href="#arg-crs"></a></dt>
<dd><p>Numeric or Character. The coordinate reference system (CRS)
for the output data, specified as an EPSG code. Supported values are
<code>3067</code> (ETRS-TM35FIN, default) and <code>4326</code> (WGS84). The returned
<code>sf</code> object will be transformed to this CRS.</p></dd>


<dt id="arg-limit">limit<a class="anchor" aria-label="anchor" href="#arg-limit"></a></dt>
<dd><p>Numeric. The maximum number of features to retrieve in a single
API request. Defaults to 10. Set to <code>NULL</code> to fetch all available
features (potentially using pagination for large datasets).</p></dd>


<dt id="arg-bbox">bbox<a class="anchor" aria-label="anchor" href="#arg-bbox"></a></dt>
<dd><p>Character or NULL. A bounding box to filter the data, specified as
a string in the format <code>"minx,miny,maxx,maxy"</code> (e.g.,
<code>"24.5,60.1,25.5,60.5"</code>). Coordinates must be in the same CRS as the
API (EPSG:4326). If <code>NULL</code> (default), no spatial filter is applied.</p></dd>


<dt id="arg-custom-params">custom_params<a class="anchor" aria-label="anchor" href="#arg-custom-params"></a></dt>
<dd><p>Character or NULL. Additional query parameters to append
to the API URL, specified as a single string (e.g.,
<code>"attribute='value'"</code>). If <code>NULL</code> (default), no additional
parameters are included.</p></dd>


<dt id="arg-api-key">api_key<a class="anchor" aria-label="anchor" href="#arg-api-key"></a></dt>
<dd><p>Character. API key for authenticating with the Geographic Names
OGC API. Defaults to the value stored in
<code>options(geofi_mml_api_key)</code>. You can obtain an API key from the
National Land Survey of Finland website (see
<a href="https://www.maanmittauslaitos.fi/en/rajapinnat/api-avaimen-ohje" class="external-link">https://www.maanmittauslaitos.fi/en/rajapinnat/api-avaimen-ohje</a>).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An <code>sf</code> object containing the spatial features (place names) from
the Geographic Names dataset, transformed to the requested <code>crs</code>.
If no features are found, a warning is issued, and an empty <code>sf</code> object
may be returned.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function retrieves spatial data on place names from the Geographic Names
(Nimistö) OGC API, provided by the National Land Survey of Finland (NLS). It
supports filtering by a search string (case-insensitive), spatial filtering
using a bounding box, and limiting the number of returned features.</p>
<p>Key features:</p><ul><li><p>Supports pagination for large datasets when <code>limit=NULL</code>.</p></li>
<li><p>Applies spatial filtering using a bounding box (<code>bbox</code>).</p></li>
<li><p>Transforms the output to the specified CRS (<code>crs</code>).</p></li>
<li><p>Validates inputs to prevent common errors.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="https://www.maanmittauslaitos.fi/nimiston-kyselypalvelu-ogc-api/tekninen-kuvaus" class="external-link">https://www.maanmittauslaitos.fi/nimiston-kyselypalvelu-ogc-api/tekninen-kuvaus</a>
for more information on the Geographic Names dataset.
<a href="https://www.maanmittauslaitos.fi/en/rajapinnat/api-avaimen-ohje" class="external-link">https://www.maanmittauslaitos.fi/en/rajapinnat/api-avaimen-ohje</a> for
instructions on obtaining an API key.</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Markus Kainu <a href="mailto:markus.kainu@kapsi.fi">markus.kainu@kapsi.fi</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Set your API key</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>geofi_mml_api_key <span class="op">=</span> <span class="st">"your_api_key_here"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Search for place names containing "kainu" in EPSG:3067</span></span></span>
<span class="r-in"><span><span class="va">places</span> <span class="op">&lt;-</span> <span class="fu">ogc_get_nimisto</span><span class="op">(</span>search_string <span class="op">=</span> <span class="st">"kainu"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">places</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Search with a bounding box (in EPSG:4326) and transform to EPSG:4326</span></span></span>
<span class="r-in"><span><span class="va">places_bbox</span> <span class="op">&lt;-</span> <span class="fu">ogc_get_nimisto</span><span class="op">(</span></span></span>
<span class="r-in"><span>  search_string <span class="op">=</span> <span class="st">"kainu"</span>,</span></span>
<span class="r-in"><span>  bbox <span class="op">=</span> <span class="st">"24.5,60.1,25.5,60.5"</span>,</span></span>
<span class="r-in"><span>  crs <span class="op">=</span> <span class="fl">4326</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">places_bbox</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Fetch all place names (no search filter) with a custom limit</span></span></span>
<span class="r-in"><span><span class="va">all_places</span> <span class="op">&lt;-</span> <span class="fu">ogc_get_nimisto</span><span class="op">(</span></span></span>
<span class="r-in"><span>  search_string <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  limit <span class="op">=</span> <span class="fl">100</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">all_places</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Markus Kainu, Joona Lehtomaki, Leo Lahti.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>



    <!-- Add ropengov logo -->
  <script src="../BS5/logo.js"></script></body></html>

